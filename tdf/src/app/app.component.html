
<div class="container mb-5">
  <div class="alert alert-danger" *ngIf="errorMsg">
    {{errorMsg}}
  </div>
  <h1>Forms</h1>
  <form #userForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
    {{userForm.value | json}}
    <hr>
    {{userModel | json}}
  <div class="form-group">
    <label>Name</label>
    <input type="text" required class="form-control" name="userName" [(ngModel)]=userModel.name #name="ngModel" [class.is-invalid]="name.invalid && name.touched">
  </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" required class="form-control" name="email" #email="ngModel" [(ngModel)]=userModel.email
      [class.is-invalid]="email.invalid && email.touched">
    </div>

    <div class="form-group">
      <label>Phone</label>
      <input type="tel" required pattern="^\d{10}$"  class="form-control" name="phone" [(ngModel)]=userModel.phone #phone="ngModel" 
      [class.is-invalid]="phone.invalid && phone.touched">
    </div>
    <div class="form-group">
      <select class="custom-select" name="topic" [(ngModel)]=userModel.topic>
        <option selected value="">I'm interested in</option>
        <option *ngFor="let topic of topics">{{topic}}</option>
      </select>
    </div>

    <div class="form-group">
      <label>Time Preference</label>
      <div class="form-check">
        <input type="radio" class="form-check-input" name="timePreference" value="morning" [(ngModel)]=userModel.timePreference>
        <label class="form-check-label">Morning (9AM - 12PM)</label>
      </div>

      <div class="form-check">
        <input type="radio" class="form-check-input" name="timePreference" value="Evening" [(ngModel)]=userModel.timePreference>
        <label class="form-check-label">Evening (5PM - 8PM)</label>
      </div>
    </div>

      <div class="form-check mb-3">
        <input type="checkbox" [(ngModel)]=userModel.subscribe name="subscribe">
        <label class="form-check-label">Subscribe</label>
      </div>

       <button *ngIf="!submitted" class="btn btn-primary" type="submit" >Submit</button>
       <small *ngIf="submitted" >Demande envoyée avec succée. </small>
       
  </form>
</div>
